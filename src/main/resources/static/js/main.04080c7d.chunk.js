(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{65:function(e,t,n){},86:function(e,t,n){"use strict";n.r(t);var l=n(0),o=n.n(l),a=n(8),i=n.n(a),c=(n(65),n(14)),r=n(126),s=n(119),u=n(127),j=n(124),d=n(122),h=n(125),b=n(123),g=n(129),f=n(116),p=n.p+"static/media/logo.d4324bca.PNG",x=n(27),m=n(6),O=Object(f.a)((function(e){return{backgroundDiv:{height:"100%",width:"100%",top:"0px",left:"0px",position:"fixed",backgroundColor:"#FBFBFA",backgroundSize:"cover"},selectionBox:{top:"5%",left:"5%",height:"30%",width:"20%",position:"absolute",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",backgroundColor:"white"},markerModeBox:{top:"5%",left:"80%",height:"30%",width:"15%",position:"absolute",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",backgroundColor:"white"},map:{top:"40%",left:"5%",height:"55%",width:"90%",position:"absolute"},routeButton:{marginTop:"20px",backgroundColor:"lightblue"},logoImage:{display:"block",top:"10%",left:"35%",width:"50%",position:"absolute"},detailsBox:{top:"5%",left:"27.5%",height:"30%",width:"50%",position:"absolute",display:"flex",flexDirection:"column",alignItems:"center",backgroundColor:"white",overflow:"scroll"},selectRoute:{top:"15%",flexDirection:"column",justifyContent:"center",alignItems:"center",position:"absolute"},directions:{top:"35%",flexDirection:"column",justifyContent:"center",alignItems:"center",position:"absolute"}}})),v=["blue","red","green","orange","yellow"];var C=Object(x.GoogleApiWrapper)({apiKey:"AIzaSyBA1uVzpiZDnx0iG0qC_ZU1m1CpThmNWf4"})((function(e){var t=O(),n=o.a.useState("Baltimore"),a=Object(c.a)(n,2),i=a[0],f=a[1],C=o.a.useState("Origin"),y=Object(c.a)(C,2),k=y[0],S=y[1],B=o.a.useState(""),w=Object(c.a)(B,2),D=w[0],N=w[1],I=o.a.useState(""),M=Object(c.a)(I,2),_=M[0],z=M[1],L=o.a.useState(null),R=Object(c.a)(L,2),T=R[0],A=R[1],W=o.a.useState(null),F=Object(c.a)(W,2),G=F[0],H=F[1],P=o.a.useState(null),E=Object(c.a)(P,2),J=E[0],Z=E[1],q=o.a.useState(null),K=Object(c.a)(q,2),U=K[0],V=K[1],Q=o.a.useState(0),X=Object(c.a)(Q,2),Y=X[0],$=X[1],ee=o.a.useState(null),te=Object(c.a)(ee,2),ne=te[0],le=te[1];Object(l.useEffect)((function(){console.log("lamps",ne),null!==ne?console.log(ne[Y]):console.log("no lamp")}),[Y,ne]);var oe=function(e){$(e.target.value)},ae=function(e){for(var t=[],n=[],l=[],o=0;o<e.routes.length;o++){var a=e.routes[o].overviewPolyline.map((function(e){return{lat:e.latitude,lng:e.longitude}})),i=e.routes[o].allLights.map((function(e){return{lat:e.lat,lng:e.lng}})).map((function(e){return Object(m.jsx)(x.Marker,{position:e},e)}));t.push(Object(m.jsx)(x.Polyline,{path:a,strokeColor:v[o]},v[o])),n.push({color:v[o],directions:e.routes[o].HTMLDirections,summary:e.routes[o].summary}),l.push(i)}Z(t),V(n),le(l),console.log(l)},ie=function(){if(null===J||null===U)return null;var e=U.map((function(e,t){return Object(m.jsx)(r.a,{value:t,children:e.color},e.color)}));return Object(m.jsxs)(s.a,{className:t.selectRoute,children:[Object(m.jsx)(u.a,{id:"route",children:"Route"}),Object(m.jsx)(j.a,{value:Y,onChange:oe,children:e})]})};return Object(m.jsxs)("div",{className:t.backgroundDiv,children:[null===J?Object(m.jsx)("div",{className:t.logoImage,children:Object(m.jsx)("img",{src:p,alt:"logo"})}):null,Object(m.jsx)(h.a,{className:t.map,elevation:1,boxShadow:2,children:Object(m.jsxs)(x.Map,{google:e.google,onClick:function(e,t,n){var l=n.latLng,o={lat:l.lat(),lng:l.lng()};"Origin"===k?A(o):H(o)},initialCenter:{lat:39.289,lng:-76.612},children:[J,null===T?null:Object(m.jsx)(x.Marker,{position:T}),null===G?null:Object(m.jsx)(x.Marker,{position:G}),null===ne?null:ne[Y]]})}),Object(m.jsxs)(h.a,{className:t.markerModeBox,elevation:1,boxShadow:2,children:[Object(m.jsxs)(s.a,{children:[Object(m.jsx)(u.a,{id:"Select",children:"Select"}),Object(m.jsxs)(j.a,{value:k,onChange:function(e){console.log(e.target.value),S(e.target.value)},children:[Object(m.jsx)(r.a,{value:"Origin",children:"Origin"}),Object(m.jsx)(r.a,{value:"Destination",children:"Destination"})]})]}),Object(m.jsx)(b.a,{className:t.routeButton,onClick:function(){var e=T.lat+","+T.lng,t=G.lat+","+G.lng;fetch("/api/analyse_paths?start="+e+"&end="+t).then((function(e){return e.json()})).then(ae)},variant:"contained",children:"Create Routes"})]}),Object(m.jsxs)(h.a,{className:t.selectionBox,elevation:1,boxShadow:2,children:[Object(m.jsxs)(s.a,{children:[Object(m.jsx)(u.a,{id:"city",children:"City"}),Object(m.jsxs)(j.a,{value:i,onChange:function(e){f(e.target.value)},children:[Object(m.jsx)(r.a,{value:"Baltimore",children:"Baltimore"}),Object(m.jsx)(r.a,{value:"Boston",children:"Boston"}),Object(m.jsx)(r.a,{value:"WashingtonDC",children:"Washington D.C."})]})]}),Object(m.jsx)("form",{id:"origin",value:D,onChange:function(e){N(e.target.value)},children:Object(m.jsx)(g.a,{label:"Origin"})}),Object(m.jsx)("form",{id:"destination",value:_,onChange:function(e){z(e.target.value)},children:Object(m.jsx)(g.a,{label:"Destination"})}),Object(m.jsx)(b.a,{className:t.routeButton,onClick:function(){fetch("/api/analyse_paths?start="+D.normalize().replace(/ /g,"+")+"&end="+_.normalize().replace(/ /g,"+")).then((function(e){return e.json()})).then(ae)},variant:"contained",children:"Create Routes"})]}),function(){if(null===U||null===Y)return null;var e=U.filter((function(e){return e.color===v[Y]}))[0].directions.map((function(e){return Object(m.jsx)("li",{dangerouslySetInnerHTML:{__html:e}},e)}));return Object(m.jsxs)(d.a,{className:t.detailsBox,elevation:1,children:[ie(),Object(m.jsx)("div",{dangerouslySetInnerHTML:{__html:U.filter((function(e){return e.color===v[Y]}))[0].summary}}),Object(m.jsx)("ul",{className:t.directions,children:e})]})}()]})}));i.a.render(Object(m.jsx)(C,{}),document.getElementById("root"))}},[[86,1,2]]]);
//# sourceMappingURL=main.04080c7d.chunk.js.map